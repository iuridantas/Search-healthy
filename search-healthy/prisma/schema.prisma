// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               String   @id @unique
  name             String
  email            String   @unique
  password         String
  cpf              String   @unique
  role             String
  createdAt        DateTime @default(now())
  updatesAt        DateTime @updatedAt
  ProfileStudent   Profile?  @relation(fields: [profileStudentId], references: [id], name: "classroom student")
  profileStudentId String?
  ProfileTeacher   Profile?  @relation(fields: [profileTeacherId], references: [id])
  profileTeacherId String?
}

model Training {
  id         String   @id @unique
  profileId  String
  Profile    Profile  @relation(fields: [profileId], references: [id])
  day        DateTime
  exercises  String[]
  repetition String
  aerobic    String
  stretching String
}

model Profile {
  id        String     @id @unique
  teachers  User[]
  students  User[]     @relation(name: "classroom student")
  name      String
  image     String
  tall      Float
  weigth    Float
  objective String
  gym       String
  services  String
  Training  Training[]
}
